<?xml version="1.0" encoding="utf-8"?>
<schema package="com.redhat.grid">

<!--
/*
 * Copyright 2000-2011 Red Hat, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
-->

<group name="DaemonProperties">
  <property name="CondorPlatform"
        type="sstr"
        desc="The Condor platform string for the daemon's platform"/>
  <property name="CondorVersion"
        type="sstr"
        desc="The Condor version string for the daemon's version"/>
  <property name="DaemonStartTime"
        type="absTime" unit="nanosecond" optional="y"
        desc="Number of nanoseconds since epoch when the daemon
          was started"/>
</group>

<group name="DaemonStatistics">
  <statistic name="MonitorSelfAge" type="uint32"/>
  <statistic name="MonitorSelfCPUUsage" type="double"/>
  <statistic name="MonitorSelfImageSize" type="double" unit="KiB"/>
  <statistic name="MonitorSelfRegisteredSocketCount" type="uint32"/>
  <statistic name="MonitorSelfResidentSetSize" type="uint32" unit="KiB"/>
  <statistic name="MonitorSelfTime" type="absTime" unit="nanosecond"/>
</group>

<group name="GridMethods">
  <!-- quick test method across agents/objects -->
  <method name="echo">
      <arg name="sequence" dir="IO" type="uint32"/>
      <arg name="body" dir="IO" type="lstr"/>
  </method>

</group>

<!--
CpuBusy = ((LoadAvg - CondorLoadAvg) >= 0.500000)
CpuBusyTime = 0
CpuIsBusy = FALSE

HasCheckpointing = TRUE
HasFileTransfer = TRUE
HasIOProxy = TRUE
HasJava = TRUE
HasJICLocalConfig = TRUE
HasJICLocalStdin = TRUE
HasJobDeferral = TRUE
HasMPI = TRUE
HasPerFileEncryption = TRUE
HasReconnect = TRUE
HasRemoteSyscalls = TRUE
HasTDP = TRUE
HasVM = FALSE

JavaMFlops = 8.156164
JavaVendor = "Free Software Foundation, Inc."
JavaVersion = "1.4.2"

Subnet = "10.16.43"

Set by Collector:
  UpdateSequenceNumber = 627
  UpdatesHistory = "0x00000000000000000000000000000000"
  UpdatesLost = 0
  UpdatesSequenced = 58
  UpdatesTotal = 59
-->

  <class name="Slot">

    <group name="DaemonProperties"/>
    <group name="DaemonStatistics"/>
    <group name="GridMethods"/>

    <property name="Pool" type="sstr" index="y"/>
    <property name="System" type="sstr" index="y"/>

    <property name="AccountingGroup"
          type="sstr"
          optional="y"
          desc="AccountingGroup of the running job, fully
            qualified with a UidDomain, UidDomain taken from
            RemoteUser, only present when a job is
            executing"/>
    <property name="Activity"
           type="sstr"
           desc="One of: Idle, No job activity; Busy, Job is
             running; Suspended, Job is suspended; Vacating,
             Job is being removed; Killing, Job is being
             killed; Benchmarking, Benchmarks being run"/>
    <property name="Arch"
          type="sstr"
          desc="Slot's architecture, e.g.: ALPHA, Diginal Alpha;
            HPPA1, HP PA-RISC 1.x (7000 series); HPPA2, HP
            PA-RISC 2.x (8000 series); IA64, Intel Itanium;
            INTEL, Intel x86 (Pentium, Xeon, etc); SGI, SGI
            MIPS; SUN4u, Sun UltraSparc; SUN4x, Sun Sparc
            (not UltraSparc); PPC, Power Macintosh; PPC64,
            64-bit Power Macintosh; X86_64, AMD/Intel 64-bit
            x86"/>
    <property name="CheckpointPlatform"
          type="sstr"
          desc="Opaque string encoding OS, hardware and kernel
            attributes"/>
    <property name="ClientMachine"
          type="sstr"
          optional="y"
          desc="The hostname of the machine that has claimed the
            slot, only present when slot is claimed"/>
    <statistic name="ClockDay"
           type="uint32"
           desc="Day of the week: 0 = Sunday, 1 = Monday, ..., 6 =
             Saturaday"/>
    <statistic name="ClockMin"
           type="uint32" unit="minute"
           desc="Number of elapsed minutes since midnight"/>
    <property name="ConcurrencyLimits"
          type="sstr"
          optional="y"
          desc="Set of concurrency limits associated with the
            current job"/>
    <statistic name="CondorLoadAvg"
           type="double"
           desc="Portion of LoadAvg generated by Condor (job or
             benchmark)"/>
    <statistic name="ConsoleIdle"
           type="uint32" unit="second"
           desc="Seconds since activity on console keyboard or
             mouse"/>
    <property name="Cpus"
          type="uint32"
          desc="Number of CPUs in slot"/>
    <property name="CurrentRank"
          type="double"
          optional="y"
          desc="Slots' affinity for running the job it is
            currently hosting, calculated as Rank expression
            evaluated in context of the running job's ad"/>
    <property name="Disk"
          type="uint32" unit="KiB"
          desc="Amount of disk space in KiB available in the slot"/>
    <property name="EnteredCurrentActivity"
           type="absTime" unit="nanosecond"
           desc="Time at which current Activity was entered,
             number of nanoseconds since Unix epoch"/>
    <property name="EnteredCurrentState"
           type="absTime" unit="nanosecond"
           desc="Time at which current State was entered,
             number of seconds since Unix epoch"/>
    <property name="FileSystemDomain"
          type="sstr"
          desc="Configured namespace shared by slots with
            uniformly mounted shared storage"/>
    <property name="GlobalJobId"
          type="sstr"
          optional="y"
          desc="The running job's GlobalJobId, only present when
            a job is executing"/>
    <statistic name="ImageSize"
          type="uint32" unit="KiB"
          desc="Estimate of the memory image size, in KiB, of the
            running job, only present when a job is
            executing, pulled by STARTD_JOB_EXPRS"/>
    <property name="IsValidCheckpointPlatform"
          type="lstr"
          desc="A configurable expression representing if a
            checkpointed job can run on the slot, part of the
            slot's Requirements along with the Start
            expression"/>
    <property name="JobId"
          type="sstr"
          optional="y"
          desc="The running job's identifier,
            i.e. ClusterId.ProcId, only present when a job is
            executing"/>
    <property name="JobStart"
          type="absTime" unit="nanosecond"
          optional="y"
          desc="The number of nanosecond since epoch when the job
            began executing, only present when a job is
            executing"/>
    <statistic name="KeyboardIdle"
           type="uint32" unit="second"
           desc="Number of seconds since any activity on any
             keyboard or mouse associated with the machine,
             including pseudo-terminals"/>
    <property name="KFlops"
          type="uint32"
          desc="Relative floating point performance on a Linpack
            benchmark"/>
    <property name="LastBenchmark"
           type="absTime" unit="nanosecond"
           desc="Number of nanoseconds since epoch when the last
             benchmark was run"
             optional="y"/>
    <property name="LastFetchWorkCompleted"
           type="absTime" unit="nanosecond"
           desc="Number of nanoseconds since epoch when the
             FetchWork Hook returned"
             optional="y"/>

    <property name="LastFetchWorkSpawned"
           type="absTime" unit="nanosecond"
           desc="Number of nanoseconds since epoch when the
             FetchWork Hook was invoked"
             optional="y"/>
    <property name="LastPeriodicCheckpoint"
           type="absTime" unit="nanosecond"
           desc="The number of nanoseconds since epoch when the
             job last performed a periodic checkpoint, only
             present when a job is executing"
             optional="y"/>
    <statistic name="LoadAvg"
           type="double"
           desc="Load average of CPUs hosting the slot"/>
    <property name="Machine"
          type="sstr"
          desc="The fully qualified hostname of slot's host
            machine"/>
    <property name="MaxJobRetirementTime"
          type="lstr" unit="second"
          desc="Expression evaluated in context of job ad
            producing the number of seconds a job is allowed
            to finish before being killed, relevant when job
            is being kicked out of the slot"/>
    <property name="Memory"
          type="uint32" unit="MiB"
          desc="Amount of RAM available in the slot, in MiB"/>
    <property name="Mips"
          type="uint32"
          desc="Relative integer performance on a Dhrystone
            benchmark"/>
    <property name="MyAddress"
          type="sstr"
          desc="IP:Port of StartD in charge of the slot"/>
    <statistic name="MyCurrentTime"
           type="absTime" unit="nanosecond"
           desc="The number of nanoseconds since epoch that the
             slot produced an updated ad"/>
    <property name="Name"
          type="sstr"
          index="y"
          desc="Name of the slot, either the same as Machine,
            slot#@Machine, or a configured value"/>
    <property name="NextFetchWorkDelay"
           type="int32" unit="second"
           desc="Number of seconds until the next FetchWork
             Hook will be invoked, -1 means never"/>
    <property name="OpSys"
          type="sstr"
          desc="Slot's operating system, e.g.: HPUX10, HPUX
            10.20; HPUX11, HPUX B.11.00; LINUX, Linux
            2.[0,2,4,6].x kernels; OSF1, Diginal Unix 4.x;
            OSX, Darwin; OSX10_2, Darwin 6.4; SOLARIS25,
            Solaris 2.4 or 5.5; SOLARIS251, Solaris 2.5.1 or
            5.5.1; SOLARIS26, Solaris 2.6 or 5.6; SOLARIS27,
            Solaris 2.7 or 5.7; SOLARIS28, Solaris 2.8 or
            5.8; SOLARIS29, Solaris 2.9 or 5.9; WINNT50,
            Windows 2000; WINNT51, Windows XP; WINNT52,
            Windows Server 2003; WINNT60, Windows Vista"/>
    <property name="PreemptingConcurrencyLimits"
          type="sstr"
          optional="y"
          desc="Set of concurrency limits associated with the
            preempting job"/>
    <property name="PreemptingOwner"
          type="sstr"
          optional="y"
          desc="The name of the user originally preempting the
            current job, i.e. the incoming user, only present
            when slot is claimed"/>
    <property name="PreemptingUser"
          type="sstr"
          optional="y"
          desc="The name of the user preempting the current job,
            different from PreemptingOwner only if the claim
            was given to another user who is using it to
            preempt, only present when slot is claimed"/>
    <property name="PreemptingRank"
          type="double"
          optional="y"
          desc="Slots' affinity for running the incoming,
            preempting, job, calculated as Rank expression
            evaluated in context of the incoming job's ad,
            only present when slot is claimed"/>
    <property name="RemoteOwner"
          type="sstr"
          optional="y"
          desc="The name of the user who originally claimed the
            slot, only present when slot is claimed"/>
    <property name="RemoteUser"
          type="sstr"
          optional="y"
          desc="The name of the user who is currently using the
            slot, different from RemoteOwner only if the
            claim was given to another user who is using the
            slot, only present when slot is claimed"/>
    <property name="Requirements"
          type="lstr"
          desc="Expression evaluated in the context of a job ad
            to determine if the slot will run a job"/>
    <property name="Rank"
          type="lstr"
          desc="Configured expression representing how the slot
            prefers jobs"/>
    <property name="SlotID"
          type="uint32"
          desc="The # in the slot's Name, i.e. Name='slot#@Machine'"/>
    <property name="Start"
          type="lstr"
          desc="Expression evaluated to determine if a slot is
            willing to start running a job"/>
    <property name="StarterAbilityList"
          type="lstr"
          desc="StringList, comma separated, set of abilities the
            slot has, i.e. HasFileTransfer,HasJava,HasVM,
            query with stringListMember('Element',
            StarterAbilityList)"/>
    <property name="State"
           type="sstr"
           desc="One of: Owner, unavailable to Condor; Unclaimed,
             available to Condor, but no job match yet;
             Matched, job found, but not yet claimed; Claimed,
             claimed and job likely running (see Activity);
             Preempting, running job is being kicked off the
             slot"/>
    <property name="TimeToLive"
           type="uint32" unit="second"
           desc="Number of second until StartD managing the slot
             has until it will exit"/>
    <property name="TotalClaimRunTime"
          type="uint32" unit="second"
          optional="y"
          desc="Number of seconds the current claim has spent
            running jobs, only present when slot is
            claimed"/>
    <property name="TotalClaimSuspendTime"
          type="uint32" unit="second"
          optional="y"
          desc="Number of seconds the current claim has spent
            with suspended jobs, only present when slot is
            claimed"/>
    <statistic name="TotalCondorLoadAvg"
           type="double"
           desc="Portion of TotalLoadAvg generated by Condor (jobs
             or benchmarks)"/>
    <property name="TotalCpus"
          type="uint32"
          desc="Total number of CPUs on slot's host machine, or
            NUM_CPUS configuration option"/>
    <property name="TotalDisk"
          type="uint32" unit="KiB"
          desc="Amount of disk space available on the slot's host
            machine"/>
    <property name="TotalJobRunTime"
          type="uint32" unit="second"
          optional="y"
          desc="Number of seconds the current job has spent
            running, i.e. Claimed/Busy, only present when
            slot is claimed"/>
    <property name="TotalJobSuspendTime"
          type="uint32" unit="second"
          optional="y"
          desc="Number of seconds the current job has spent
            suspended, i.e. Claimed/Suspended, only present
            when slot is claimed"/>
    <statistic name="TotalLoadAvg"
           type="double"
           desc="Total load average of the slot's host machine"/>
    <property name="TotalMemory"
          type="uint32" unit="MiB"
          desc="Total RAM available on slot's machine, in MiB"/>
    <property name="TotalSlots"
          type="uint32"
          desc="Total number of slots sharing the Machine"/>
    <statistic name="TotalTimeBackfillBusy"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Backfill and Activity=Busy since the
             Startd started"/>
    <statistic name="TotalTimeBackfillIdle"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Backfill and Activity=Idle since the
             Startd started"/>
    <statistic name="TotalTimeBackfillKilling"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Backfill and Activity=Killing since the
             Startd started"/>
    <statistic name="TotalTimeClaimedBusy"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Claimed and Activity=Busy since the
             Startd started"/>
    <statistic name="TotalTimeClaimedIdle"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Claimed and Activity=Idle since the
             Startd started"/>
    <statistic name="TotalTimeClaimedRetiring"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Claimed and Activity=Retiring since the
             Startd started"/>
    <statistic name="TotalTimeClaimedSuspended"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Claimed and Activity=Suspended since the
             Startd started"/>
    <statistic name="TotalTimeMatchedIdle"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Matched and Activity=Idle since the
             Startd started"/>
    <statistic name="TotalTimeOwnerIdle"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Owner and Activity=Idle since the
             Startd started"/>
    <statistic name="TotalTimePreemptingKilling"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Preempting and Activity=Killing since the
             Startd started"/>
    <statistic name="TotalTimePreemptingVacating"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Preempting and Activity=Vacating since the
             Startd started"/>
    <statistic name="TotalTimeUnclaimedBenchmarking"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Unclaimed and Activity=Benchmarking since
             the Startd started"/>
    <statistic name="TotalTimeUnclaimedIdle"
           type="uint32" unit="second"
           desc="Accumulated number of seconds the slot has been
             in State=Unclaimed and Activity=Idle since the
             Startd started"/>
    <property name="TotalVirtualMemory"
          type="uint32" unit="KiB"
          desc="Amount of swap space available on slot"/>
    <property name="UidDomain"
          type="sstr"
          desc="Configured namespace shared by slots with
            uniform uid/gid entries, i.e. same logins and
            groups"/>
    <property name="VirtualMemory"
          type="uint32" unit="KiB"
          desc="Amount of currently available virtual memory
            (swap space) in KiB"/>
    <property name="WindowsBuildNumber"
          type="uint32"
          desc="Integer extracted from the platform type,
            representing a build number for a Windows
            operating system, only present on Windows
            slots"/>
    <property name="WindowsMajorVersion"
          type="uint32"
          desc="Integer extracted from the platform type,
            representing a major version number for a Windows
            operating system, only present on Windows
            slots, e.g. 5 for OpSys=WINNT50"/>
    <property name="WindowsMinorVersion"
          type="uint32"
          desc="Integer extected from the platform type,
            representing a minor version numer for a Windows
            operating system, only present on Windows
            slots, e.g. 2 for OpSys=WINNT52"/>
  </class>

  <class name="Scheduler">
    <group name="DaemonProperties"/>
    <group name="DaemonStatistics"/>
    <group name="GridMethods"/>

    <property name="Pool" type="sstr" index="y"/>
    <property name="System" type="sstr" index="y"/>

    <property name="JobQueueBirthdate" type="absTime" optional="y"/>
    <property name="MaxJobsRunning" type="uint32" desc=""/>
    <property name="Machine" type="sstr" desc=""/>
    <property name="MyAddress" type="sstr" desc=""/>
    <statistic name="NumUsers" type="uint32"/>
    <property name="Name" type="sstr" index="y" desc=""/>
    <statistic name="TotalHeldJobs" type="uint32"/>
    <statistic name="TotalIdleJobs" type="uint32"/>
    <statistic name="TotalJobAds" type="uint32"/>
    <statistic name="TotalRemovedJobs" type="uint32"/>
    <statistic name="TotalRunningJobs" type="uint32"/>    

    <property name="WindowedStatWidth" type="uint32" unit="seconds"
            desc="The stat window width, config param WINDOWED_STAT_WIDTH"/>
    <statistic name="UpdateInterval" type="uint32" unit="seconds"
             desc="Seconds between current publish and previous"/>

    <statistic name="JobsSubmitted" type="uint32"
             desc="Number of jobs submitted over most recent sampling window"/>
    <statistic name="JobSubmissionRate" type="double"
             desc="Rate of job submissions (jobs per second) over most recent sampling window"/>
    <statistic name="JobsCompleted" type="uint32"
             desc="Number of jobs completed (successfully, shadow code=100 or 115) over most recent sampling window"/>
    <statistic name="JobCompletionRate" type="double"
             desc="Rate of job completions (jobs per second) over most recent sampling window"/>
    <statistic name="JobsExited" type="uint32"
             desc="Number of jobs that exited over most recent sampling window"/>
    <statistic name="ShadowExceptions" type="uint32"
             desc="Number of shadow excptions over most recent sampling window"/>
    <!-- ExitCodeXXX: number of jobs exited with code XXX (100, 115, etc) over window -->
    <statistic name="JobsSubmittedCum" type="uint32"
             desc="Number of jobs submitted over lifetime of the Scheduler"/>
    <statistic name="JobsCompletedCum" type="uint32"
             desc="Number of jobs successfully completed over lifetime of the Scheduler"/>
    <statistic name="JobsExitedCum" type="uint32"
             desc="Number of jobs exited over the lifetime of the Scheduler"/>
    <statistic name="ShadowExceptionsCum" type="uint32"
             desc="Number of shadow exceptions over the lifetime of the Scheduler"/>
    <!-- ExitCodeCumXXX: number of jobs exited with code XXX over schedd lifetime -->
    <statistic name="JobsStartedCum" type="uint32"
             desc="Number of jobs started over the lifetime of the Scheduler"/>
    <statistic name="JobsStarted" type="uint32"
             desc="Number of jobs started over most recent sampling window"/>
    <statistic name="JobStartRate" type="double"
             desc="Rate of job starts (jobs per second) over the most recent sampling window"/>
    <statistic name="MeanTimeToStartCum" type="double" unit="seconds"
             desc="Mean time a job waits in the Scheduler until first start, over the lifetime of the Scheduler"/>
    <statistic name="MeanRunningTimeCum" type="double" unit="seconds"
             desc="Mean running time (wall-clock) for jobs in the Scheduler, over the lifetime of the Scheduler"/>
    <statistic name="SumTimeToStartCum" type="uint64" unit="seconds"
             desc="Sum of job wait times to first start, over the lifetime of the Scheduler"/>
    <statistic name="SumRunningTimeCum" type="uint64" unit="seconds"
             desc="Sum of job running times, over the lifetime of the Scheduler"/>
    <statistic name="MeanTimeToStart" type="double" unit="seconds"
             desc="Mean time a job waits in the Scheduler until first start, over most recent sampling window"/>
    <statistic name="MeanRunningTime" type="double" unit="seconds"
             desc="Mean running time (wall-clock) time of jobs in the Scheduler, over most recent sampling window"/>

    <method name="SubmitJob">
      <arg name="Ad" dir="I" type="map"/>
      <arg name="Id" dir="O" type="sstr"/>
    </method>

    <method name="SetJobAttribute">
      <arg name="Id" dir="I" type="sstr"
       desc="Job's Id, the string ClusterId.ProcId"/>
      <arg name="Name" dir="I" type="sstr"/>
      <arg name="Value" dir="I" type="lstr"/>
    </method>

    <method name="HoldJob">
      <arg name="Id" dir="I" type="sstr"
       desc="Job's Id, the string ClusterId.ProcId"/>
      <arg name="Reason" dir="I" type="sstr"/>
    </method>

    <method name="ReleaseJob">
      <arg name="Id" dir="I" type="sstr"
       desc="Job's Id, the string ClusterId.ProcId"/>
      <arg name="Reason" dir="I" type="sstr"/>
    </method>

    <method name="RemoveJob">
      <arg name="Id" dir="I" type="sstr"
       desc="Job's Id, the string ClusterId.ProcId"/>
      <arg name="Reason" dir="I" type="sstr"/>
    </method>

	<method name="SuspendJob">
      <arg name="Id" dir="I" type="sstr"
	   desc="Job's Id, the string ClusterId.ProcId"/>
      <arg name="Reason" dir="I" type="sstr"/>
    </method>

	<method name="ContinueJob">
      <arg name="Id" dir="I" type="sstr"
	   desc="Job's Id, the string ClusterId.ProcId"/>
      <arg name="Reason" dir="I" type="sstr"/>
    </method>
  </class>

  <class name="Submitter">
      
      <group name="GridMethods"/>
      
    <property name="schedulerRef" type="objId" parentRef="y" index="y" references="com.redhat.grid:Scheduler"/>

    <statistic name="HeldJobs" type="uint32"/>
    <statistic name="IdleJobs" type="uint32"/>
    <property name="JobQueueBirthdate" type="absTime"/>
    <property name="Machine" type="sstr"/>
    <property name="Name" type="sstr" index="y"/>
    <property name="Owner" type="sstr" desc="Match for same Submission field"/>
    <statistic name="RunningJobs" type="uint32"/>
    <property name="ScheddName" type="sstr"/>
  </class>

  <class name="Negotiator">
    <property name="Pool" type="sstr" index="y"/>
    <property name="System" type="sstr" index="y"/>

    <property name="Name" type="sstr" index="y"/>
    <property name="Machine" type="sstr"/>
    <property name="MyAddress" type="sstr" desc=""/>

    <!-- NOTE: MonitorSelf* statistics are currently missing in 7.0.0 -->
    <group name="DaemonProperties"/>
    <group name="DaemonStatistics"/>
    <group name="GridMethods"/>

    <method name="GetLimits">
      <arg name="Limits" dir="O" type="map"/>
    </method>

    <method name="SetLimit">
      <arg name="Name" dir="I" type="sstr"/>
      <arg name="Max" dir="I" type="double"/>
    </method>

    <method name="GetStats">
      <arg name="Name" dir="I" type="sstr" desc="User or group name"/>
      <arg name="Ad" dir="O" type="map"/>
    </method>

    <method name="SetPriority">
      <arg name="Name" dir="I" type="sstr" desc="User or group name"/>
      <arg name="Priority" dir="I" type="double"/>
    </method>

    <method name="SetPriorityFactor">
      <arg name="Name" dir="I" type="sstr" desc="User or group name"/>
      <arg name="PriorityFactor" dir="I" type="double"/>
    </method>

    <method name="SetUsage">
      <arg name="Name" dir="I" type="sstr" desc="User or group name"/>
      <arg name="Usage" dir="I" type="double"/>
    </method>

    <method name="GetRawConfig">
      <arg name="Name" dir="I" type="sstr" desc="Config param name"/>
      <arg name="Value" dir="O" type="lstr"/>
    </method>

    <method name="SetRawConfig">
      <arg name="Name" dir="I" type="sstr" desc="Config param name"/>
      <arg name="Value" dir="I" type="lstr"/>
    </method>

    <method name="Reconfig"/>

    <statistic name="MatchRate" type="double" optional="y" desc="Matches per second over current cycle"/>
    <statistic name="MatchRateSustained" type="double" desc="Matcher per second, since end of previous cycle"/>
    <statistic name="Matches" type="uint32" desc="Number of matches generated"/>
    <statistic name="Duration" type="uint32" unit="second" desc="Negotiation cycle duration"/>
    <statistic name="Phase1Duration" type="uint32" unit="second" desc="Duration of phase 1"/>
    <statistic name="Phase2Duration" type="uint32" unit="second" desc="Duration of phase 2"/>
    <statistic name="Phase3Duration" type="uint32" unit="second" desc="Duration of phase 3"/>
    <statistic name="Phase4Duration" type="uint32" unit="second" desc="Duration of phase 4"/>
    <statistic name="SlotShareIter" type="uint32" desc="Number of share iterations"/>
    <statistic name="NumSchedulers" type="uint32" desc="Number of submitters"/>
    <statistic name="ActiveSubmitterCount" type="uint32" desc="Number of submitters with jobs"/>
    <statistic name="SubmittersFailed" type="lstr" desc="List of submitters that encountered a failure"/>
    <statistic name="SubmittersOutOfTime" type="lstr" desc="List of submitters that hit their match time limit"/>
    <statistic name="SubmittersShareLimit" type="lstr" desc="List of submitters that hit their share limit"/>
    <statistic name="NumIdleJobs" type="uint32" desc="Number of idle jobs"/>
    <statistic name="NumJobsConsidered" type="uint32" desc="Number of jobs that were considered for matching"/>
    <statistic name="Rejections" type="uint32" desc="Number of rejections"/>
    <statistic name="TotalSlots" type="uint32" desc="Number of slots found"/>
    <statistic name="CandidateSlots" type="uint32" desc="Number of slots considered"/>
    <statistic name="TrimmedSlots" type="uint32" desc="Number of slots after trimming claimed slots"/>
    <statistic name="Time" type="absTime" unit="nanosecond" desc="Start of cycle, since Epoch"/>
    <statistic name="End" type="absTime" unit="nanosecond" desc="End of cycle, since Epoch"/>
    <statistic name="Period" type="uint32" unit="second" desc="Time from end of previous cycle to end of current cycle"/>
  </class>

  <class name="Collector">
    <group name="DaemonProperties"/>
    <group name="DaemonStatistics"/>
    <!-- TODO: for now this doesn't seem to be worth the headache 
          of the query worker socket handler interaction & crashes
    <group name="GridMethods"/>
    -->
      
    <property name="Pool" type="sstr" index="y"/>
    <property name="System" type="sstr" index="y"/>

    <property name="Name" type="sstr" index="y"/>
    <property name="MyAddress" type="sstr"/>

    <statistic name="RunningJobs" type="uint32"/>
    <statistic name="IdleJobs" type="uint32"/>
    <statistic name="HostsTotal" type="uint32"/>
    <statistic name="HostsClaimed" type="uint32"/>
    <statistic name="HostsUnclaimed" type="uint32"/>
    <statistic name="HostsOwner" type="uint32"/>
  </class>

  <class name="Master">

    <group name="DaemonProperties"/>
    <group name="DaemonStatistics"/>
    <group name="GridMethods"/>

    <property name="Pool" type="sstr" index="y"/>
    <property name="System" type="sstr" index="y"/>

    <property name="Name" type="sstr" index="y"/>
    <property name="Machine" type="sstr"/>
    <property name="MyAddress" type="sstr"/>
    <property name="RealUid" type="int32"/>

    <method name="Start">
      <arg name="Subsystem"
       dir="I" type="sstr"
       desc="The component/subsystem to start: one of STARTD,
         SCHEDD, COLLECTOR, NEGOTIATOR, KBDD or QUILL"/>
    </method>

    <method name="Stop">
      <arg name="Subsystem"
       dir="I" type="sstr"
       desc="The component/subsystem to stop: one of STARTD,
         SCHEDD, COLLECTOR, NEGOTIATOR, KBDD or QUILL"/>
    </method>
  </class>

  <class name="Grid">
      
      <group name="GridMethods"/>

    <property name="Pool" type="sstr" index="y"/>
    <property name="Name" type="sstr"/>
    <property name="ScheddName" type="sstr"/>
    <property name="Owner" type="sstr"/>

    <property name="JobLimit"
          type="uint32"
          desc="Maximum number of jobs that can be in the process
            of being submitted at any time."/>
    <property name="SubmitLimit"
          type="uint32"
          desc="Limit on the number of jobs that will be submitted
            to the grid resource at once."/>
    <property name="GridResourceUnavailableTime"
          type="absTime" unit="nanosecond"
          optional="y"
          desc="If present, the Grid is down for the specified
          amount of time."/>

    <statistic name="NumJobs" type="uint32"/>
    <statistic name="SubmitsInProgress" type="uint32"/>
    <statistic name="SubmitsQueued" type="uint32"/>
    <statistic name="SubmitsAllowed" type="uint32"/>
    <statistic name="SubmitsWanted" type="uint32"/>
    <statistic name="RunningJobs" type="uint32"/>
    <statistic name="IdleJobs" type="uint32"/>

  </class>
  
  <!-- NOTE: at deployment, only one daemon between the schedd and the job server will publish this interface -->
  <class name="JobServer">
      
      <group name="DaemonProperties"/>
      <group name="DaemonStatistics"/>
      <group name="GridMethods"/>

      <property name="schedulerRef" type="objId" parentRef="y" index="y" references="com.redhat.grid:Scheduler"/>

      <property name="Pool" type="sstr" index="y"/>
      <property name="System" type="sstr" index="y"/>
      
      <property name="Machine" type="sstr" desc=""/>
      <property name="MyAddress" type="sstr" desc=""/>
      <property name="Name" type="sstr" index="y" desc=""/>
      <property name="PublicNetworkIpAddr" type="sstr" desc=""/>
      
      <method name="GetJobAd">
          <arg name="Id" dir="I" type="sstr"
               desc="Job's Id, the string ClusterId.ProcId"/>
          <arg name="JobAd" dir="O" type="map"
               desc="(name,value,type) tuples; Values are INTEGER, FLOAT,
               STRING and EXPR. The EXPR value is not first class,
               it is an unquoted, with double quotes, string"/>
      </method>

      <method name="FetchJobData">
          <arg name="Id" dir="I" type="sstr"
               desc="Job's Id, the string ClusterId.ProcId"/>
          <arg name="File" dir="I" type="sstr"/>
          <arg name="Start" dir="I" type="int32"/>
          <arg name="End" dir="I" type="int32"/>
          <arg name="Data" dir="O" type="lstr"/>
      </method>

  </class>


  <class name="Submission">
      
      <group name="GridMethods"/>
      
      <!-- navigate from a submission to a job server to get its pool -->
    <property name="jobserverRef" type="objId" parentRef="y" index="y" references="com.redhat.grid:JobServer"/>
    
    <property name="Name" type="sstr" index="y"/>
    <property name="Owner" type="sstr" index="y"/>
    <property name="QDate" type="absTime" optional="y"
	      desc="Oldest QDate of member jobs"/>

    <statistic name="Idle" type="count32"/>
    <statistic name="Running" type="count32"/>
    <statistic name="Removed" type="count32"/>
    <statistic name="Completed" type="count32"/>
    <statistic name="Held" type="count32"/>
    <statistic name="TransferringOutput" type="count32" optional="y"/>
    <statistic name="Suspended" type="count32" optional="y"/>
    
    <!-- summary info -->
    <method name="GetJobSummaries">
        <arg name="Jobs" dir="O" type="list"/>
    </method>
    
  </class>

</schema>
