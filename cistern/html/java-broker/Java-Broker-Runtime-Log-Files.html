<h1 id="Java-Broker-Runtime-Log-Files"><span class="header-section-number">1</span> Log Files</h1>
<p>The Broker uses the <a href="http://logging.apache.org/log4j/1.2/">Apache Log4J</a> Logging Framework for all logging activity.</p>
<p>In the Broker's shipped configuration, all logging is directed to log file <code>${QPID_WORK}/log/qpid.log</code>. The log file is not rotated and will be overwritten when the Broker restarts. Logging levels are configured in such a way that the log will comprise of:</p>
<ul>
<li><p>Opertional Log Events. These report key events in the lifecycle of objects (Broker start-up, Queue creation, Queue deletion etc) within the Broker. See ? for details of the formation of these messages.</p></li>
<li><p>Queue Alert Events. These report when the queue thresholds have been breached. See ? for details.</p></li>
<li><p>Any Error and Warning conditions.</p></li>
</ul>
<p>Logging can be reconfigured either by changing the logging configuration file <code>${QPID_HOME}/etc/log4j.xml</code> or at runtime using the Logging Management MBean, see ? for details.</p>
<h2 id="Java-Broker-Runtime-Log-Files-Enable-Debug"><span class="header-section-number">1.1</span> Enabling Debug</h2>
<p>It can be helpful to enable debug within the Broker in order to understand a problem more clearly. If this is required, debug can be enabled at runtime (without restarting the Broker) using the Logging Management MBean. The change can also be made by changing the log configuration file and restarting the Broker. Whichever mechanism is chosen, change the appender associated with <code>org.apache.qpid</code> from <code>WARN</code> to <code>DEBUG</code>.</p>
<pre><code>...
&lt;logger additivity=&quot;true&quot; name=&quot;org.apache.qpid&quot;&gt;
    &lt;level value=&quot;debug&quot;/&gt; &lt;!-- change the level value from warn to debug --&gt;
&lt;/logger&gt;
...</code></pre>
<blockquote>
<p><strong>Important</strong></p>
<p>Running a production system at <code>DEBUG</code> level can have performance implications by slowing the Broker down. It can also generate large log files. Take care to revert the logging level back to <code>WARN</code> after the analysis is performed.</p>
</blockquote>
